<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="./style.css">
    <title>Chart.JS</title>
</head>
<body>
    <header>
        <nav class="nav-bar">
            <img src="./imgs/temperatura.png" alt="">
            <h1>Monitoramento <br> de <br> Temperatura e Umidade</h1>
            <img src="./imgs/umidade.png" alt="">
        </nav>
    </header>
    <main class="graficos">
        <div>
            <select onclick="verificaFiltro()" id="select_filtro">
                <option value="linha">Mostrar por dia</option>
                <option value="barra">Mostra por mês</option>
            </select>
        </div>
        <div>
            <section id="primeiro_grafico">
                <canvas id="graficoLinha" ></canvas>
            </section>
            <section id="segundo_grafico">
                <canvas id="graficoBarra"></canvas>
            </section>
        </div>
    </main>
</body>
</html>

<script>

    function verificaFiltro(){
        const filtro = select_filtro.value
        if(filtro == 'linha')
        {
            primeiro_grafico.style.display = 'block'
            segundo_grafico.style.display = 'none'
        }
        else if(filtro == 'barra')
        {
            primeiro_grafico.style.display = 'none'
            segundo_grafico.style.display = 'block'
        }
    }

    const linha = document.getElementById('graficoLinha');
    const barra = document.getElementById('graficoBarra');
  
    new Chart
    (
        linha, 
        {
            type: 'line',
            data: 
            {
                labels: ['12:00', '13:00', '14:00', '15:00', '16:00', '17:00'],
                datasets: 
                [
                    {
                        label: 'Temperatura',
                        data: [30, 29, 28, 25, 22, 23],
                        borderColor: '#FF6384',
                        backgroundColor: '#FF6384'
                    },
                    {
                        label: 'Umidade',
                        data: [80, 82, 80, 85, 80, 83],
                        borderColor: '#36A2EB',
                        backgroundColor: '#36A2EB'
                    }
                ]
            },
            options: 
            {
                responsive: true,
                scales: 
                {
                    yAxes: 
                    [{
                        ticks: 
                        {
                            min: 20,
                            max: 90,
                            beginAtZero: true
                        }
                    }]
                }
            }
        }
    );

    new Chart
    (
        barra,
        {
            type: 'bar',
            data:
            {
                labels: ['Janeiro','Fevereiro','Março','Abril','Maio','Junho'],
                datasets:
                [
                    {
                        label: 'Temperatura Média',
                        data: [22, 24, 27, 23, 20, 18],
                        borderColor: '#FF6384',
                        backgroundColor: '#FF6384'
                    },
                    {
                        label: 'Umidade Média',
                        data: [90, 89, 93, 87, 88, 82],
                        borderColor: '#36A2EB',
                        backgroundColor: '#36A2EB'
                    }
                ]
            },
            options: 
            {
                responsive: true
            }
        }
    );
  </script>